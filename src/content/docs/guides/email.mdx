---
title: Email link authentication
sidebar:
  order: 1
---

Also known as magic link, email authentication is a passwordless flow where users click a unique link sent to their email address to log in.

## (1/2) Add the login with email button

From your login page, add the [`<np-email-login>`](/reference/components/np-email-login) component and set the `email` property with your user's email address.

```html
<np-email-login></np-email-login>

<script type="module">
  // If you use CDN, ensure the component is loaded before interacting with it.
  await customElements.whenDefined("np-email-login");

  // set the email property
  const el = document.querySelector("np-email-login");
  el.email = "ada@lovelace.uk"; // from an input field somewhere
</script>
```

Once the user clicks on this button, an email will be sent to its inbox.
By clicking on the received authorization link, he will be redirected to the original page with an extra `code` parameter.
This component will then automatically exchange it for an access token and emit it inside the `np:auth` event.

```js
el.addEventListner("np:auth", (e) => {
  // Your user is authenticated ðŸŽ‰
  console.log(e.detail.token); // the access token
});
```

## (2/2) You are done!

Transmit the access `token` to your backend to create the user's session. it can be verified with your own JWT library or using our own API endpoint.

import { LinkCard } from "@astrojs/starlight/components";

<LinkCard title="Verifying the access token" description="" href="/guides/tokens" />

:::tip[Promote Passkeys]
Once the user authenticated, consider offering him an even smoother and secure experience with Passkeys.
Passkeys use your fingerprint or other biometric to log you into your websites, just like unlocking your device.
See [Passkey Integration](/guides/passkeys) to learn more.
:::
